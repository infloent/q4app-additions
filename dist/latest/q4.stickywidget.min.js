/*
Widget:   q4.stickywidget
Version:  1.0.0
Compiled: 2017-11-02
*/
!function(a){a.widget("q4.stickyWidget",{options:{version:"1.0.0",stickyElem:null,layoutElem:".layout",layoutStickyActiveCls:null,stopStickyBreakPoint:null,stopStickySwitchCondition:null,offsetTopElem:[],offsetTopBreakPoint:[],getTopOffset:q4Defaults.getTopOffset,onSticky:function(a){},onUnSticky:function(a){},afterSticky:function(a){},beforeSticky:function(a){},classes:{"js--sticky":"js--sticky-nav"},responsive:[{breakpoint:1024,settings:{}},{breakpoint:768,settings:{}}]},_create:function(){this._widgetVariables(),this._stickyOnScroll(),this._stickyOnResize()},_init:function(){this.window.trigger("resize"+this.eventNamespace)},_setOption:function(a,b){this._super(),this._stickyOnScroll(),this.window.trigger("resize"+this.eventNamespace),console.log("setOpt"),console.log(this)},_destroy:function(){this._super()},_widgetVariables:function(){this.$layout=a(this.options.layoutElem),this.$stickyElem=null!==this.options.stickyElem?a(stickyElem):a("> *:first",this.element),this.throttleDelay=0,this.isSticky=!1,this.isStickyDisabled=!1},_setOptionsResponsive:function(){if(this.options.responsive&&this.options.responsive.length&&null!==this.options.responsive)for(var a=0;a<=this.options.responsive.length;a++);},stopCondition:function(){return this.options.stopStickySwitchCondition===this.window.width()<=this.options.stopStickyBreakPoint},_stickyOnScroll:function(){this._on(this.window,{scroll:"_addRemoveSticky"})},_stickyOnResize:function(){this._on(this.window,{resize:this._throttle(function(a){this._addRemoveSticky(a),this._enableDisableSticky(a)},this.throttleDelay)})},_enableDisableSticky:function(a){this.stopCondition()?(this._disableSticky(),this.isStickyDisabled=!0):this.isStickyDisabled&&(this._stickyOnScroll(),this.isStickyDisabled=!1)},_addRemoveSticky:function(a){var b=(this.options,this.window.scrollTop()),c=this.options.getTopOffset(),d=this.element.offset().top-c;this.stopCondition()||(this._setElemHeight(),b>d?(this.isSticky||this._trigger("onSticky",a),this._addSticky(c),this._trigger("afterSticky",a)):(this.isSticky&&this._trigger("onUnSticky",a),this._removeSticky(),this._trigger("beforeSticky",a)))},_setElemHeight:function(){this.element.css("height",this.$stickyElem.outerHeight())},_addSticky:function(a){this.$stickyElem.css("top",a+"px"),this.isSticky||(this.isSticky=!this.isSticky,this._addClass(this.$stickyElem,"js--sticky"),this.options.layoutStickyActiveCls&&this._addClass(this.$layout,this.options.layoutStickyActiveCls))},_removeSticky:function(){this.isSticky&&(this.isSticky=!this.isSticky,this._removeClass(this.$stickyElem.css("top",""),"js--sticky"),this.options.layoutStickyActiveCls&&this._removeClass(this.$layout,this.options.layoutStickyActiveCls))},_disableSticky:function(){this.isStickyDisabled||(this.isSticky=!this.isSticky,this.window.off("scroll"+this.eventNamespace),this.element.css("height",""),this._removeClass(this.$stickyElem.css("top",""),"js--sticky"),this.options.layoutStickyActiveCls&&a(".layout").removeClass(this.options.layoutStickyActiveCls))},_throttle:function(a,b,c){b||(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&g<d+b?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}}})}(jQuery);